  CREATE OR REPLACE FORCE VIEW "MOUTRAN"."MIG_V_BATCHSTATUS" ("NO_BATCH", "TS_START", "DT_PROCESS", "TS_UPDATE", "BATCH_STATUS", "NM_PROCESS") AS 
  SELECT bs."NO_BATCH",bs."TS_START",bs."DT_PROCESS",bs."TS_UPDATE",bs."BATCH_STATUS",
         jb.NM_PROCESS
  FROM   MIG_BATCHSTATUS bs,
         MIG_JOBREF jb,
         MIG_JOBSTATUS st
  WHERE  st.NO_BATCH =  bs.NO_BATCH
  AND    bs.BATCH_STATUS = 'RUN'
  AND    st.NO_INSTANCE BETWEEN NO_JOB AND (NO_JOB + 99);
	COMMENT ON TABLE "MOUTRAN"."MIG_V_BATCHSTATUS" IS 'MIG_V_BATCHSTATUS';

  CREATE OR REPLACE FORCE VIEW "MOUTRAN"."MIG_V_ERRLOG" ("NO_BATCH", "NO_INSTANCE", "TS_CREATED", "NO_SEQ", "IND_LOG", "NO_ERR", "TXT_KEY", "TXT_DATA", "TXT_ERR") AS 
  SELECT lg."NO_BATCH",lg."NO_INSTANCE",lg."TS_CREATED",lg."NO_SEQ",lg."IND_LOG",lg."NO_ERR",lg."TXT_KEY",lg."TXT_DATA",
         er.TXT_ERR
  FROM   MIG_ERRORLOG lg,
         MIG_ERRREF er
  WHERE  lg.NO_ERR  = er.NO_ERR;

   COMMENT ON TABLE "MOUTRAN"."MIG_V_ERRLOG"  IS 'MIG_V_ERRLOG';
   
   COMMIT;
   EXIT;